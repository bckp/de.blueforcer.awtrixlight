{
  "_comment": "This file is generated. Please edit .homeycompose/app.json instead.",
  "id": "de.blueforcer.awtrixlight",
  "version": "1.0.5",
  "compatibility": ">=5.0.0",
  "sdk": 3,
  "brandColor": "#222222",
  "platforms": [
    "local"
  ],
  "name": {
    "en": "AWTRIX Light"
  },
  "description": {
    "en": "Awtrix Light is a custom firmware for the Ulanzi Smart Pixel clock."
  },
  "category": [
    "appliances"
  ],
  "permissions": [],
  "images": {
    "small": "/assets/images/small.png",
    "large": "/assets/images/large.png",
    "xlarge": "/assets/images/xlarge.png"
  },
  "author": {
    "name": "Radovan Kepák",
    "email": "radovan@kepakovi.cz"
  },
  "flow": {
    "actions": [
      {
        "title": {
          "en": "Set display [[power]]"
        },
        "titleFormatted": {
          "en": "Set display [[power]]"
        },
        "hint": {
          "en": "Enable or disable display"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=awtrixlight"
          },
          {
            "type": "dropdown",
            "name": "power",
            "title": {
              "en": "state"
            },
            "values": [
              {
                "id": "1",
                "title": {
                  "en": "on"
                }
              },
              {
                "id": "0",
                "title": {
                  "en": "off"
                }
              }
            ]
          }
        ],
        "id": "displaySet"
      },
      {
        "title": {
          "en": "Send notification [[msg]] with [[icon]] icon and [[color]] for [[duration]] seconds"
        },
        "titleFormatted": {
          "en": "Send notification [[msg]] with [[icon]] icon and [[color]] for [[duration]] seconds"
        },
        "hint": {
          "en": "Send color notification to device for specified duration with icon and color"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=awtrixlight"
          },
          {
            "type": "text",
            "name": "msg",
            "placeholder": {
              "en": "message"
            }
          },
          {
            "type": "dropdown",
            "name": "icon",
            "value": "-",
            "title": {
              "en": "icon"
            },
            "values": [
              {
                "id": "-",
                "title": {
                  "en": "no"
                }
              },
              {
                "id": "homey",
                "title": {
                  "en": "Homey"
                }
              },
              {
                "id": "heater",
                "title": {
                  "en": "Heater"
                }
              },
              {
                "id": "warning",
                "title": {
                  "en": "Warning"
                }
              },
              {
                "id": "lightOn",
                "title": {
                  "en": "Light ON"
                }
              },
              {
                "id": "lightOff",
                "title": {
                  "en": "Light Off"
                }
              },
              {
                "id": "message",
                "title": {
                  "en": "Message"
                }
              },
              {
                "id": "tempC",
                "title": {
                  "en": "Temp °C"
                }
              },
              {
                "id": "tempF",
                "title": {
                  "en": "Temp °F"
                }
              },
              {
                "id": "smiley",
                "title": {
                  "en": "Smiley"
                }
              }
            ]
          },
          {
            "type": "range",
            "name": "duration",
            "value": "5",
            "title": {
              "en": "Number of seconds"
            },
            "min": 1,
            "max": 600,
            "step": 5,
            "label": "s",
            "labelMultiplier": 1,
            "labelDecimals": 0
          },
          {
            "type": "color",
            "name": "color",
            "value": "#eeeeee"
          }
        ],
        "id": "notification"
      },
      {
        "title": {
          "en": "Dismiss notification"
        },
        "titleFormatted": {
          "en": "Dismiss notification"
        },
        "hint": {
          "en": "Dismiss permanent notification"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=awtrixlight"
          }
        ],
        "id": "notificationDismiss"
      },
      {
        "title": {
          "en": "Send sticky notification [[msg]] with [[icon]] icon and [[color]]"
        },
        "titleFormatted": {
          "en": "Send sticky notification [[msg]] with [[icon]] icon and [[color]]"
        },
        "hint": {
          "en": "Send sticky notification to device with optional icon and color"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=awtrixlight"
          },
          {
            "type": "text",
            "name": "msg",
            "placeholder": {
              "en": "message"
            }
          },
          {
            "type": "dropdown",
            "name": "icon",
            "value": "-",
            "title": {
              "en": "icon"
            },
            "values": [
              {
                "id": "-",
                "title": {
                  "en": "no"
                }
              },
              {
                "id": "homey",
                "title": {
                  "en": "Homey"
                }
              },
              {
                "id": "heater",
                "title": {
                  "en": "Heater"
                }
              },
              {
                "id": "warning",
                "title": {
                  "en": "Warning"
                }
              },
              {
                "id": "lightOn",
                "title": {
                  "en": "Light ON"
                }
              },
              {
                "id": "lightOff",
                "title": {
                  "en": "Light Off"
                }
              },
              {
                "id": "message",
                "title": {
                  "en": "Message"
                }
              },
              {
                "id": "tempC",
                "title": {
                  "en": "Temp °C"
                }
              },
              {
                "id": "tempF",
                "title": {
                  "en": "Temp °F"
                }
              },
              {
                "id": "smiley",
                "title": {
                  "en": "Smiley"
                }
              }
            ]
          },
          {
            "type": "color",
            "name": "color",
            "value": "#eeeeee"
          }
        ],
        "id": "notificationSticky"
      },
      {
        "title": {
          "en": "Play [[rtttl]] melody"
        },
        "titleFormatted": {
          "en": "Play [[rtttl]] melody"
        },
        "hint": {
          "en": "Play RTTTL melody"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=awtrixlight"
          },
          {
            "type": "text",
            "name": "rtttl",
            "placeholder": {
              "en": "melody"
            }
          }
        ],
        "id": "playRTTTL"
      }
    ]
  },
  "drivers": [
    {
      "name": {
        "en": "AwtrixLight"
      },
      "class": "other",
      "capabilities": [
        "measure_battery",
        "measure_humidity",
        "measure_luminance",
        "measure_temperature",
        "awtrix_matrix",
        "alarm_generic.indicator1",
        "alarm_generic.indicator2",
        "alarm_generic.indicator3"
      ],
      "platforms": [
        "local"
      ],
      "energy": {
        "batteries": [
          "INTERNAL"
        ]
      },
      "capabilitiesOptions": {
        "alarm_generic.indicator1": {
          "preventInsights": true,
          "title": {
            "en": "Indicator top"
          }
        },
        "alarm_generic.indicator2": {
          "preventInsights": true,
          "title": {
            "en": "Indicator middle"
          }
        },
        "alarm_generic.indicator3": {
          "preventInsights": true,
          "title": {
            "en": "Indicator bottom"
          }
        }
      },
      "discovery": "awtrix-mdns",
      "connectivity": [
        "lan"
      ],
      "pair": [
        {
          "id": "list_my_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_my_devices"
          },
          "options": {
            "singular": true
          }
        },
        {
          "id": "add_my_devices",
          "template": "add_devices"
        }
      ],
      "images": {
        "small": "/drivers/awtrixlight/assets/images/small.png",
        "large": "/drivers/awtrixlight/assets/images/large.png",
        "xlarge": "/drivers/awtrixlight/assets/images/xlarge.png"
      },
      "id": "awtrixlight",
      "settings": [
        {
          "type": "group",
          "label": {
            "en": "Login details"
          },
          "children": [
            {
              "id": "user",
              "type": "text",
              "label": {
                "en": "Username"
              },
              "value": "",
              "hint": {
                "en": "The name of the user."
              }
            },
            {
              "id": "pass",
              "type": "password",
              "label": {
                "en": "Password"
              },
              "value": "",
              "hint": {
                "en": "The password of the user."
              }
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Settings"
          },
          "children": [
            {
              "id": "ABRI",
              "type": "checkbox",
              "value": true,
              "label": {
                "en": "Auto-brightness"
              }
            },
            {
              "id": "ATRANS",
              "type": "checkbox",
              "value": true,
              "label": {
                "en": "Auto-cycle"
              }
            },
            {
              "id": "BLOCKN",
              "type": "checkbox",
              "value": true,
              "label": {
                "en": "Block buttons"
              }
            },
            {
              "id": "UPPERCASE",
              "type": "checkbox",
              "value": true,
              "label": {
                "en": "Uppercase text"
              }
            },
            {
              "id": "TEFF",
              "type": "dropdown",
              "value": "0",
              "label": {
                "en": "Transition effect"
              },
              "values": [
                {
                  "id": "0",
                  "label": {
                    "en": "Random"
                  }
                },
                {
                  "id": "1",
                  "label": {
                    "en": "Slide"
                  }
                },
                {
                  "id": "2",
                  "label": {
                    "en": "Dim"
                  }
                },
                {
                  "id": "3",
                  "label": {
                    "en": "Zoom"
                  }
                },
                {
                  "id": "4",
                  "label": {
                    "en": "Rotate"
                  }
                },
                {
                  "id": "5",
                  "label": {
                    "en": "Pixelate"
                  }
                },
                {
                  "id": "6",
                  "label": {
                    "en": "Curtain"
                  }
                },
                {
                  "id": "7",
                  "label": {
                    "en": "Ripple"
                  }
                },
                {
                  "id": "8",
                  "label": {
                    "en": "Blink"
                  }
                },
                {
                  "id": "9",
                  "label": {
                    "en": "Reloat"
                  }
                },
                {
                  "id": "10",
                  "label": {
                    "en": "Fade"
                  }
                }
              ]
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Build-in apps"
          },
          "children": [
            {
              "id": "TIM",
              "type": "checkbox",
              "value": true,
              "label": {
                "en": "Time app"
              }
            },
            {
              "id": "DAT",
              "type": "checkbox",
              "value": true,
              "label": {
                "en": "Date app"
              }
            },
            {
              "id": "HUM",
              "type": "checkbox",
              "value": true,
              "label": {
                "en": "Humidity app"
              }
            },
            {
              "id": "TEMP",
              "type": "checkbox",
              "value": true,
              "label": {
                "en": "Temperature app"
              }
            },
            {
              "id": "BAT",
              "type": "checkbox",
              "value": true,
              "label": {
                "en": "Battery app"
              }
            }
          ]
        }
      ]
    }
  ],
  "capabilities": {
    "awtrix_matrix": {
      "type": "boolean",
      "title": {
        "en": "Display"
      },
      "getable": false,
      "setable": false,
      "uiComponent": null
    }
  },
  "discovery": {
    "awtrix-mdns": {
      "type": "mdns-sd",
      "mdns-sd": {
        "name": "awtrix",
        "protocol": "tcp"
      },
      "id": "{{txt.id}}",
      "conditions": [
        [
          {
            "field": "txt.type",
            "match": {
              "type": "string",
              "value": "awtrix_light"
            }
          }
        ]
      ]
    }
  }
}